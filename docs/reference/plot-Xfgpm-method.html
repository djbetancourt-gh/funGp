<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plot method for the class "Xfgpm" — plot,Xfgpm-method • funGp</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plot method for the class " xfgpm plot><meta property="og:description" content='Plot an object with class "Xfgpm" representing
    a collection of functional GP models corresponding to
    different structural parameters.
Two types of graphics can be shown depending on the choice of
which. The choice which = "diag" is used to display
diagnostics of the quality of the optimized model. Two types of
diagnostic plots are shown as sub-plots by default, but each can be
discarded if wanted. The choice which = "evol" is used to
assess the quality of the fitted fgpm models on the basis of
Leave-One-Out cross-validation.
The choice which = "diag" (default) provides two plots for
assessing the quality of the output delivered by the model selection
algorithm in the fgpm_factory function. The first
one is a calibration plot similar to the one offered for
fgpm objects by plot,fgpm-method.
This plot allows to validate the absolute quality of the selected
model. The second one displays the performance statistic of all
the models successfully evaluated by the model selection
algorithm. This provides a notion of the relative quality of the
selected model with respect to the other models that can be made
using the same data.
The choice which = "evol" displays the evolution of the
quality of the configurations evaluated along the iterations, by
the model selection algorithm in the fgpm_factory function. For
each iteration, the performance statistic of all the evaluated
models is printed, along with the corresponding median of the
group. The plot also includes the global maximum, which
corresponds to the best performance statistic obtained up to the
current iteration. In this plot, it is typical to have some points
falling relatively far from the maximum, even after multiple
iterations. This happens mainly because we have multiple
categorical features, whose alteration might change the
performance statistic in a nonsmooth way. On the other hand, the
points that fall below zero usually correspond to models whose
hyperparameters were hard to optimize. This occurs sporadically
during the log-likelihood optimization for Gaussian processes, due
to the non-linearity of the objective function.  As long as the
maximum keeps improving and the median remains close to it, none
of the two aforementioned phenomena is matter for worries.  Both
of them respond to the mechanism of exploration implemented in the
algorithm, which makes it able to progressively move towards
better model configurations.'><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">funGp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/djbetancourt-gh/funGp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot method for the class <code>"Xfgpm"</code></h1>
    <small class="dont-index">Source: <a href="https://github.com/djbetancourt-gh/funGp/blob/HEAD/R/7_plottingFunctionsStandard.R" class="external-link"><code>R/7_plottingFunctionsStandard.R</code></a></small>
    <div class="hidden name"><code>plot-Xfgpm-method.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plot an object with class <code>"Xfgpm"</code> representing
    a collection of functional GP models corresponding to
    different structural parameters.</p>
<p>Two types of graphics can be shown depending on the choice of
<code>which</code>. The choice <code>which = "diag"</code> is used to display
diagnostics of the quality of the optimized model. Two types of
diagnostic plots are shown as sub-plots by default, but each can be
discarded if wanted. The choice <code>which = "evol"</code> is used to
assess the quality of the fitted <code>fgpm</code> models on the basis of
Leave-One-Out cross-validation.</p>
<p>The choice <code>which = "diag"</code> (default) provides two plots for
assessing the quality of the output delivered by the model selection
algorithm in the <a href="fgpm_factory.html">fgpm_factory</a> function. The first
one is a calibration plot similar to the one offered for
<a href="fgpm-class.html">fgpm</a> objects by <a href="plot-fgpm-method.html">plot,fgpm-method</a>.
This plot allows to validate the absolute quality of the selected
model. The second one displays the performance statistic of all
the models successfully evaluated by the model selection
algorithm. This provides a notion of the relative quality of the
selected model with respect to the other models that can be made
using the same data.</p>
<p>The choice <code>which = "evol"</code> displays the evolution of the
quality of the configurations evaluated along the iterations, by
the model selection algorithm in the <code>fgpm_factory</code> function. For
each iteration, the performance statistic of all the evaluated
models is printed, along with the corresponding median of the
group. The plot also includes the global maximum, which
corresponds to the best performance statistic obtained up to the
current iteration. In this plot, it is typical to have some points
falling relatively far from the maximum, even after multiple
iterations. This happens mainly because we have multiple
categorical features, whose alteration might change the
performance statistic in a nonsmooth way. On the other hand, the
points that fall below zero usually correspond to models whose
hyperparameters were hard to optimize. This occurs sporadically
during the log-likelihood optimization for Gaussian processes, due
to the non-linearity of the objective function.  As long as the
maximum keeps improving and the median remains close to it, none
of the two aforementioned phenomena is matter for worries.  Both
of them respond to the mechanism of exploration implemented in the
algorithm, which makes it able to progressively move towards
better model configurations.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="co"># S4 method for Xfgpm</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>
  <span class="va">x</span>,
  y <span class="op">=</span> <span class="cn">NULL</span>,
  which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"diag"</span>, <span class="st">"evol"</span><span class="op">)</span>,
  calib <span class="op">=</span> <span class="cn">TRUE</span>,
  fitp <span class="op">=</span> <span class="cn">TRUE</span>,
  horiz <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>The <code>Xfgpm</code> object to plot.</p></dd>


<dt>y</dt>
<dd><p>Not used.</p></dd>


<dt>which</dt>
<dd><p>Character giving the type of plot wanted. Can take the value
<code>"diag"</code> or <code>"evol"</code>. See <b>Examples</b>.</p></dd>


<dt>calib</dt>
<dd><p>Logical. If <code>TRUE</code> the calibration plot of the
selected model will be included in the display in its
"diagnostic" part if <code>which</code> is set to <code>"diag"</code>.</p></dd>


<dt>fitp</dt>
<dd><p>Logical. If <code>TRUE</code> a scatter plot of the quality
of all explored models will be included in the display in its
"diagnostic" part if <code>which</code> is set to <code>"diag"</code>.</p></dd>


<dt>horiz</dt>
<dd><p>Logical. Used only when <code>which</code> is <code>"diag"</code>
and when both <code>calib</code> and <code>fitp</code> are <code>TRUE</code>. If
<code>horiz</code> is <code>TRUE</code> the two subplots are displayed
horizontally (on a same row) rather than vertically which is
the default.</p></dd>


<dt>...</dt>
<dd><p>Other graphical parameters such as <code>main</code> of
<code>xlab</code>. When <code>which</code> is <code>"diag"</code> and both
<code>calib</code> and <code>fitp</code> are <code>TRUE</code>, the graphical parameters
should be enclosed into a list and passed with the formal name
<code>calib.gpars</code> or <code>fitp.gpars</code>.</p></dd>

</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><strong>*</strong> <a href="fgpm_factory.html">fgpm_factory</a> for structural
    optimization of funGp models.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># generating input and output data</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span>
<span class="r-in"><span class="va">n.tr</span> <span class="op">&lt;-</span> <span class="fl">2</span><span class="op">^</span><span class="fl">5</span></span>
<span class="r-in"><span class="va">x1</span> <span class="op">&lt;-</span> <span class="va">x2</span> <span class="op">&lt;-</span> <span class="va">x3</span> <span class="op">&lt;-</span> <span class="va">x4</span> <span class="op">&lt;-</span> <span class="va">x5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length <span class="op">=</span> <span class="va">n.tr</span><span class="op">^</span><span class="op">(</span><span class="fl">1</span><span class="op">/</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">sIn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>x1 <span class="op">=</span> <span class="va">x1</span>, x2 <span class="op">=</span> <span class="va">x2</span>, x3 <span class="op">=</span> <span class="va">x3</span>, x4 <span class="op">=</span> <span class="va">x4</span>, x5 <span class="op">=</span> <span class="va">x5</span><span class="op">)</span></span>
<span class="r-in"><span class="va">fIn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>f1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">n.tr</span> <span class="op">*</span> <span class="fl">10</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span class="r-in">            f2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="va">n.tr</span> <span class="op">*</span> <span class="fl">22</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">22</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">sOut</span> <span class="op">&lt;-</span> <span class="fu"><a href="black-boxes.html">fgp_BB7</a></span><span class="op">(</span><span class="va">sIn</span>, <span class="va">fIn</span>, <span class="va">n.tr</span><span class="op">)</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># optimizing the model structure with 'fgpm_factory' (~10 seconds)</span></span>
<span class="r-in"><span class="va">xm</span> <span class="op">&lt;-</span> <span class="fu"><a href="fgpm_factory.html">fgpm_factory</a></span><span class="op">(</span>sIn <span class="op">=</span> <span class="va">sIn</span>, fIn <span class="op">=</span> <span class="va">fIn</span>, sOut <span class="op">=</span> <span class="va">sOut</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># assessing the quality of the model - absolute and w.r.t. the other</span></span>
<span class="r-in"><span class="co"># explored models</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">xm</span>, which <span class="op">=</span> <span class="st">"evol"</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># diagnostics (two subplots)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">xm</span>, which <span class="op">=</span> <span class="st">"diag"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">xm</span>, which <span class="op">=</span> <span class="st">"diag"</span>, horiz <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># diagnostics (one plot)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">xm</span>, which <span class="op">=</span> <span class="st">"diag"</span>, fitp <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">xm</span>, which <span class="op">=</span> <span class="st">"diag"</span>, calib <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># customizing some graphical parameters</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">xm</span>, calib.gpars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">800</span>,<span class="fl">1000</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">600</span>,<span class="fl">1200</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">     fitp.gpars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>main <span class="op">=</span> <span class="st">"Relative quality"</span>, legends <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jose Betancourt, François Bachoc, Thierry Klein, Jeremy Rohmer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

